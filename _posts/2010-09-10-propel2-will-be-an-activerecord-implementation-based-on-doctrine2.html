---
layout: post
title: Propel2 Will Be an ActiveRecord Implementation Based On Doctrine2
published: true
---
<p>Yesterday's <a href="http://propel.posterous.com/propel-2-what-could-it-be-and-do-you-want-to">IRC meeting</a> was the occasion to design the shape Propel2, the next major iteration of the Propel ORM. The most important points resulting from the discussion are:</p>
<ul>
<li>Propel2 will require PHP 5.3</li>
<li>It will be an ActiveRecord implementation (like Propel 1)</li>
<li>It will be (mostly) backwards-compatible with Propel 1 - that means that the <a href="http://www.propelorm.org/wiki/Documentation/1.5/WhatsNew#NewQueryAPI">Query API</a> introduced in Propel 1.5 is here to stay</li>
<li>It will use code generation for better performance and IDE integration (like Propel 1)</li>
<li>It will use <a href="http://www.doctrine-project.org/projects/dbal/2.0/docs/en">Doctrine2 DBAL</a>, and some parts of the <a href="http://www.doctrine-project.org/projects/orm/2.0/docs/en">Doctrine2 ORM</a>, for internals</li>
<li>The source code will be <a href="http://github.com/fzaninotto">hosted on github</a></li>
<li>I (Fran&ccedil;ois Zaninotto) will bootstrap and lead the project</li>
<li>Everyone is welcome to contribute</li>
</ul>
<p>I'm very happy with how things turned out. It seems that most people concerned with Propel saw the duplicated efforts in Propel and Doctrine as a waste of time. Propel2 will focus on the usability layer of the ORM, without the need to reimplement a DBAL, or an object-relational mapping layer.</p>
<p>See the complete discussion log after the break.</p>
<p><!--more--></p>
<p>22:00:26 &lt;francois&gt; Ok everyone, it's 10pm on my watch, I guess it's time to begin<br /> 22:00:38 &lt;Phenix&gt; let's go<br /> 22:00:41 &lt;francois&gt; Letme first say (write) a few words<br /> 22:01:01 &lt;francois&gt; It's only been a year since I took over Propel, and I didn't expect to dedicate so much time to it<br /> 22:01:13 &lt;francois&gt; I didn't expect to make it move so much either<br /> 22:01:24 &lt;grEvenX&gt; :)<br /> 22:01:37 &lt;grEvenX&gt; (but oh has it moved!)<br /> 22:01:44 &lt;francois&gt; To be honest, I took Propel as a corpse, and gave myself the mission to help it have a soft death<br /> 22:01:54 &lt;francois&gt; today, that's not the question anymore<br /> 22:02:27 &lt;francois&gt; Propel is very much alive and has found (again) a community of users and developers<br /> 22:02:28 &lt;b00giZm&gt; (they call him the steve jobs of propel ;))<br /> 22:02:48 &lt;francois&gt; We could go on like this past year for a long time<br /> 22:03:33 &lt;francois&gt; adding killer feature every two days, refactoring the core without breaking BC, simplifying the life of developers<br /> 22:03:35 &lt;francois&gt; but<br /> 22:03:48 &lt;francois&gt; the future is not Propel 1.x<br /> 22:04:16 &lt;francois&gt; the future is probably Symfony2, Zend Framework2, Doctrine2, and all those Project2<br /> 22:04:27 &lt;francois&gt; So basically, we need a Propel 2<br /> 22:04:33 &lt;francois&gt; just for the sake of the number<br /> 22:04:37 &lt;francois&gt; (just kidding)<br /> 22:04:38 &lt;StephenMelrose&gt; :)<br /> 22:04:41 &lt;avalanche123&gt; :)<br /> 22:04:45 &lt;LvanderRee&gt; agree I can create a branch ;)<br /> 22:04:50 &lt;grEvenX&gt; hehe<br /> 22:05:10 &lt;francois&gt; When I took over the 1.x branch, someone else took over the 2.x branch<br /> 22:05:20 &lt;francois&gt; no work has been done on this branch since<br /> 22:05:33 &lt;francois&gt; So we are gathered here tonight<br /> 22:05:44 &lt;francois&gt; to discuss the future of Propel<br /> 22:05:58 &lt;francois&gt; what it should be, how it should be called, and who should take care of it<br /> 22:06:25 &lt;francois&gt; I suggest that we all talk together now to give our thoughts on the matter<br /> 22:06:32 &lt;francois&gt; because I'm feeling lonely :)<br /> 22:06:42 &lt;francois&gt; now shoot<br /> 22:06:50 &lt;Jarda&gt; I'm not completely sure if we really need a 2.0<br /> 22:06:57 &lt;Jarda&gt; you have done magical stuff with the 1.x branch<br /> 22:07:14 &lt;grEvenX&gt; there were some "bold" ideas a year ago, and even from earlier than that about what features should wait for Propel 2<br /> 22:07:19 &lt;Jarda&gt; there must be a killer vision for 2.0<br /> 22:07:26 &lt;grEvenX&gt; does anyone remember any of those suggested features?<br /> 22:07:28 &lt;LvanderRee&gt; I think we should cooperate more with doctrine in a new version<br /> 22:07:29 &lt;StephenMelrose&gt; But with more additions and BC 1.x becomes bloated. Doctrine2 is already amazing performance wise. Propel needs to step up to the place<br /> 22:07:46 &lt;francois&gt; Jarda: I'm sure we need it. People starting projects today, with PHP 5.3, namespaces, closures and late static binding will find Propel dated<br /> 22:07:54 &lt;v-dogg&gt; Criteria2 was meant to be the killer thing for P2 but current Query stuff is superior<br /> 22:07:56 &lt;annismckenzie&gt; I can only attest to the quality and thoughtfulness put into Propel 1.4 and up<br /> 22:08:01 &lt;LvanderRee&gt; using its dbal and other abstraction layers while still generating models<br /> 22:08:18 &lt;tobiassjosten&gt; francois: You have probably been asked the question before, but I'm relatively new to this scene, so... Why not join forces with the Doctrine crew? What does Propel bring to the table that Doctrine can't?<br /> 22:08:23 &lt;b00giZm&gt; francois, we already had a little email exchange about it. it's a real PITA to do unit testing with propel 1.x<br /> 22:08:48 &lt;francois&gt; ok, a few words about my view on Doctrine<br /> 22:08:55 &lt;StephenMelrose&gt; It's important to keep Propel and Doctrine seperate. Both push each other to innovate, imho<br /> 22:08:57 &lt;lsmith&gt; afaik the main thing differentiating doctrine from propel is code generation and the criteria API<br /> 22:09:02 &lt;b00giZm&gt; with doctrine it's really easy to use in-memory (sqllite) dbs, but with propel it's rally hard because of the generators<br /> 22:09:23 &lt;francois&gt; Doctrine 1 is fun the first time you use it, but it's too magical, too slow, and too hard to debug as compared to Propel<br /> 22:10:00 &lt;LvanderRee&gt; agree<br /> 22:10:02 &lt;francois&gt; Doctrine 1 gave a good boost to Propel, but now I think we shouldn't blush in comparison<br /> 22:10:03 &lt;grEvenX&gt; isn't Doctrine a "complete" framework? quite a few actually prefers to stay away from framework (or develop new ones)<br /> 22:10:07 &lt;francois&gt; As for Doctrine 2<br /> 22:10:13 &lt;francois&gt; It's a great library<br /> 22:10:32 &lt;francois&gt; that fills most of the holes and fixes most of the mistakes of Doctrine2<br /> 22:10:35 &lt;tobiassjosten&gt; Right, the magic is kind of scary. But speaking as a newcomer (honestly with no experience in Propel) I just feel there's wasted resources with these two awesome, but seperate, efforts.<br /> 22:10:41 &lt;francois&gt; but it has one very big difference with Propel<br /> 22:10:48 &lt;francois&gt; And with Doctrine 1, for that matter<br /> 22:10:57 &lt;francois&gt; It's not an ActiveRecord implementation<br /> 22:11:16 &lt;StephenMelrose&gt; And I like the AR implementation, which is why I use it<br /> 22:11:23 &lt;nsolsen&gt; me too<br /> 22:11:28 &lt;francois&gt; but the work done on the Doctrine DBAL is awesome<br /> 22:11:37 &lt;francois&gt; and SHOULD NOT be done a second time<br /> 22:11:42 &lt;lsmith&gt; francois: i am sure you read <a href="http://www.doctrine-project.org/blog/your-own-orm-doctrine2">http://www.doctrine-project.org/blog/your-own-orm-doctrine2</a> ?<br /> 22:11:50 &lt;francois&gt; lsmith: yep<br /> 22:11:58 &lt;b00giZm&gt; oh... <br /> 22:12:02 &lt;b00giZm&gt; :)<br /> 22:12:20 &lt;LvanderRee&gt; I agree with tobiassjosten about wasting resources, and agree with francois about the magic and hard debugging and not active record, but as far as I know, doctrine2 is being very well designed, and we can build a active-record generator on top of doctrine's dbal<br /> 22:12:22 &lt;francois&gt; but ActiveRecord can be a master class all your entities extend<br /> 22:12:28 &lt;LvanderRee&gt; to share resources and effort<br /> 22:12:42 &lt;francois&gt; or abilities added by way of code generation<br /> 22:13:15 &lt;LvanderRee&gt; francois I think we are thinking the same ;)<br /> 22:13:24 &lt;StephenMelrose&gt; Why not build propel2 on top of doctrine2's DBAL then? If possible?<br /> 22:13:26 &lt;lsmith&gt; code generation approach could be made future proof with traits (<a href="http://wiki.php.net/rfc/horizontalreuse)">http://wiki.php.net/rfc/horizontalreuse)</a><br /> 22:13:43 &lt;francois&gt; lsmith: when it's available<br /> 22:14:02 &lt;Jarda&gt; But if propel is going to switch to syntax like Doctrine_Query, I'll be out. It sucks donkeys balls..<br /> 22:14:06 &lt;lsmith&gt; right .. its already in trunk .. but no decision has been made on what the next php version will be<br /> 22:14:11 &lt;francois&gt; I know it's in the trunk/whatever the name of this PHP verion<br /> 22:14:25 &lt;francois&gt; I'm just not willing to wait for it<br /> 22:14:33 &lt;francois&gt; and it doesn't solve all problems<br /> 22:14:56 &lt;lsmith&gt; francois: oh i wasnt suggesting that .. i was saying .. care could be taken that once traits our out .. the code generation could switch to using traits<br /> 22:14:57 &lt;francois&gt; Jarda: That's a strong point<br /> 22:15:29 &lt;francois&gt; There is a strong difference between both Doctrine versions and Propel: the way to make queries<br /> 22:15:43 &lt;Jarda&gt; using Doctrine_Query is like writing raw sql, only it's much more PITA<br /> 22:15:53 &lt;XpLo^bn&gt; doctrine query api is very bad from my point of view<br /> 22:16:02 &lt;XpLo^bn&gt; well same as Jarda ~<br /> 22:16:07 &lt;francois&gt; I strongly believe that the Propel Query API provides a great architecture for model logic<br /> 22:16:19 &lt;Jarda&gt; francois: and an awesome IDE experience<br /> 22:16:27 &lt;StephenMelrose&gt; Seconded<br /> 22:16:30 &lt;francois&gt; Jarda: indeed, second strong point<br /> 22:16:33 &lt;v-dogg&gt; +1<br /> 22:16:44 &lt;StephenMelrose&gt; I adore that all the columns are constants. I hate using strings in Doctrine<br /> 22:16:49 &lt;tobiassjosten&gt; Right, there's some major differences in ORM implementation. :) But is there any difference in goal or approach (non-technical) between the two?<br /> 22:16:56 &lt;Phenix&gt; StephenMelrose: +1<br /> 22:17:01 &lt;francois&gt; tobiassjosten: I guess so<br /> 22:17:02 &lt;lsmith&gt; just FYI Doctrine 1.x and 2.x also provide a fluent interface, but the criteria API is definately a lot more complete<br /> 22:17:22 &lt;francois&gt; lsmith: Propel's Query API is more similar to rails' ARel<br /> 22:17:55 &lt;francois&gt; It's a real way to package your repository logic in a reusable and embeddable way<br /> 22:18:10 &lt;francois&gt; it's not just a magic interface to SQL<br /> 22:18:44 &lt;francois&gt; I was talking about the major difference in approach with Doctrine<br /> 22:19:32 &lt;francois&gt; I think Doctrine2 is very committed to following design patterns<br /> 22:19:39 &lt;francois&gt; sometimes too committed<br /> 22:19:53 &lt;francois&gt; And I also think that this can be counterproductive for the developer<br /> 22:20:02 &lt;francois&gt; IDE friendliness is an example<br /> 22:20:14 &lt;francois&gt; You can't achieve that with DQL<br /> 22:20:34 &lt;francois&gt; Propel's main goal is to make the life of developers easier<br /> 22:20:49 &lt;francois&gt; even if that means having not-so-perfect code insoide<br /> 22:21:01 &lt;francois&gt; At least that's the way I see it<br /> 22:21:11 &lt;Jarda&gt; +1<br /> 22:21:17 &lt;francois&gt; which is a good thing, since I'm quite a poor developer myself ;)<br /> 22:21:23 &lt;grEvenX&gt; haha<br /> 22:21:33 &lt;LvanderRee&gt; still ?<br /> 22:21:34 &lt;LvanderRee&gt; ;)<br /> 22:21:36 &lt;annismckenzie&gt; I think we all know that the main difference between Doctrine and Propel is code generation vs. no code generation. :)<br /> 22:21:36 &lt;grEvenX&gt; IDE sure helps me thorugh the day<br /> 22:21:39 &lt;grEvenX&gt; (and coffee)<br /> 22:21:40 &lt;francois&gt; That's also why the Doctrine2 guys seem to loathe ActiveRecord<br /> 22:21:44 &lt;lsmith&gt; using the Doctrine DBAL could already allow sharing a connection across plugins<br /> 22:21:56 &lt;francois&gt; lsmith: I'm all for it<br /> 22:21:57 &lt;StephenMelrose&gt; It should make life easier for the developer, yes, as long as the "not-so-perfect" code doesn't hinder performance<br /> 22:22:04 &lt;lsmith&gt; this would mean that it would be quite possible to mix and patch inside a single project<br /> 22:22:14 &lt;francois&gt; StephenMelrose: as of now, Propel is still faster than Doctrine<br /> 22:22:15 &lt;lsmith&gt; which would be of course a huge leap forward<br /> 22:22:18 &lt;tobiassjosten&gt; grEvenX: I can't stand IDEs. Been trying for the last decade but I can't come to odds with them.<br /> 22:22:47 &lt;francois&gt; tobiassjosten: Propel is also a lot faster with just a text editor<br /> 22:22:47 &lt;annismckenzie&gt; And that you can only provide good IDE support with generated code, especially with filterBy* methods and such.<br /> 22:23:00 &lt;francois&gt; It's one of the most concise ORMs<br /> 22:23:03 &lt;grEvenX&gt; tobiassjosten: I know your type! :P I just converted a long-time vim user to Eclipse :P<br /> 22:23:22 &lt;francois&gt; So, to sum up my vision<br /> 22:23:30 &lt;francois&gt; (and after that I let you guys talk)<br /> 22:23:30 &lt;tobiassjosten&gt; francois: Right, I was speaking more on the magic argument. Though I'm all for ditching magic still.<br /> 22:23:37 &lt;b00giZm&gt; i still prefer textmate over any kind of IDE, but as long as i can debug my code well, i'm fine. and that's really one thing i can't achieve with doctrine. so, you're right ;)<br /> 22:23:45 &lt;StephenMelrose&gt; I hate magic<br /> 22:24:04 &lt;jwage&gt; Sorry I missed things<br /> 22:24:10 &lt;francois&gt; Propel2 should be an ActiveRecord implementation built on top of Doctrine2 DBAL, using code generation to provide the same Query API<br /> 22:24:17 &lt;francois&gt; and one more thing<br /> 22:24:32 &lt;francois&gt; Propel2 should be backwards compatible with Propel 1<br /> 22:24:40 &lt;LvanderRee&gt; I don't think runtime speed is the MOST important issue (even for an ORM), development speed is.<br /> 22:24:42 &lt;annismckenzie&gt; Wait, what? :)<br /> 22:24:51 &lt;StephenMelrose&gt; IN what sense BC?<br /> 22:24:53 &lt;annismckenzie&gt; Awesome!<br /> 22:24:56 &lt;b00giZm&gt; whoaah<br /> 22:24:58 &lt;b00giZm&gt; :)<br /> 22:25:01 &lt;LvanderRee&gt; hi john nice to see you here as well<br /> 22:25:20 &lt;lsmith&gt; francois: hmm what would be the implication of using the EntityManager?<br /> 22:25:24 &lt;francois&gt; BC in the sense that code written for Propel 1 could still work with Propel 2<br /> 22:25:26 &lt;StephenMelrose&gt; LvanderRee: Erm, no. Runtime &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Development<br /> 22:25:38 &lt;StephenMelrose&gt; francois: AH, you mean in the generated model?<br /> 22:25:41 &lt;francois&gt; lsmith: using the metadata classes as well<br /> 22:25:42 &lt;StephenMelrose&gt; I'm down for that<br /> 22:26:14 &lt;francois&gt; We've spent a long time defining a very usable API for both the ActiveRecord and the (Active)Query classes<br /> 22:26:18 &lt;francois&gt; let's not ditch that<br /> 22:26:25 &lt;StephenMelrose&gt; +1<br /> 22:26:30 &lt;francois&gt; BC is not an absolute goal<br /> 22:26:50 &lt;LvanderRee&gt; I don' t know about BC either. There are some serieus issues with Propel &lt;1.3 regarding security (with the complex joins)<br /> 22:26:52 &lt;greg1&gt; francois: you mean &laquo;easy to upgrade to&raquo; <br /> 22:26:56 &lt;annismckenzie&gt; Now, francois could you tell us what the next killer feature you're constantly twittering about is in Propel 1.6? :)<br /> 22:26:59 &lt;LvanderRee&gt; breaking BC can fix those issues<br /> 22:27:03 &lt;francois&gt; it's just a guideline to say: we already have a good end user interface. Just  make the thing better inside<br /> 22:27:23 &lt;francois&gt; LvanderRee: that could justify a BC break<br /> 22:27:34 &lt;LvanderRee&gt; OK than I agree<br /> 22:27:35 &lt;francois&gt; annismckenzie: Migrations<br /> 22:27:38 &lt;StephenMelrose&gt; Ah yes, joins. This is something we seriously need to visit.<br /> 22:27:45 &lt;grEvenX&gt; the only thing I currently don't see as "trivial" in the ModelCriteria is relatively simple queries with "and/or" (e.g. WHERE colA != 'B' OR colA = 'C')<br /> 22:27:46 &lt;StephenMelrose&gt; It's a pain in the add doing complex joins<br /> 22:27:51 &lt;LvanderRee&gt; stick as close as possible to the current API, which indeed is very nice!<br /> 22:27:59 &lt;grEvenX&gt; but I don't have any suggestions for improvement either<br /> 22:28:08 &lt;annismckenzie&gt; Yes!!! :) Thanks, francois!<br /> 22:28:14 &lt;lsmith&gt; francois: like i said basing things on the Doctrine DBAL is a great move, but i am not yet sure if it doesnt make sense to base the active record on the Doctrine ORM<br /> 22:28:20 &lt;grEvenX&gt; (and improvements could still be done there I guess without breaking BC)<br /> 22:28:22 &lt;b00giZm&gt; the query api is great, but BC with the old criteria crap? oh lord... <br /> 22:28:27 &lt;LvanderRee&gt; We aren't it calling 1.x for reason, BC can be broken (although preferably not of course, to keep upgrading easy)<br /> 22:28:36 &lt;francois&gt; lsmith: we can use some parts<br /> 22:28:44 &lt;francois&gt; b00giZm: no way<br /> 22:28:48 &lt;greg1&gt; LvanderRee: +1<br /> 22:28:53 &lt;b00giZm&gt; THANKS! :)<br /> 22:29:03 &lt;lsmith&gt; but i have another point to bring up .. unit testing .. i dont have that much experience with propel, but in the code i have seen .. there are a lot of static method calls<br /> 22:29:12 &lt;greg1&gt; otherwise, what would be differences between Propel 1.6 and Propel 2.0 ?<br /> 22:29:13 &lt;francois&gt; lsmith: no anymore<br /> 22:29:16 &lt;lsmith&gt; which can make unit testing harder .. is that addressed via code generation?<br /> 22:29:25 &lt;lsmith&gt; ah ok<br /> 22:29:46 &lt;francois&gt; Propel 1.6 currently has 3785 unit tests<br /> 22:29:56 &lt;francois&gt; it's not hard to test at all<br /> 22:30:01 &lt;annismckenzie&gt; :O<br /> 22:30:10 &lt;lsmith&gt; well i am more talking about unit testing my model business logic<br /> 22:30:16 &lt;francois&gt; 'static' is so Propel 1.3 ;)<br /> 22:30:26 &lt;lsmith&gt; without having to have a db running<br /> 22:30:32 &lt;francois&gt; lsmith: well, you need a storage for that<br /> 22:30:38 &lt;LvanderRee&gt; lsmith this was the case with peer caslles, now there are  queries <br /> 22:30:41 &lt;francois&gt; even if it is a test storage<br /> 22:30:44 &lt;lsmith&gt; which requires introducing mock query instances for example<br /> 22:30:44 &lt;grEvenX&gt; lsmith: setup sqlite storage?<br /> 22:30:57 &lt;francois&gt; lsmith: if you use Symfony, you can have different storages for prod and dev<br /> 22:31:02 &lt;lsmith&gt; but if the static calls are gone .. its all good :)<br /> 22:31:03 &lt;b00giZm&gt; @grEvenX that's not trivial for propel 1.x<br /> 22:31:22 &lt;b00giZm&gt; i've been through this ^^ <br /> 22:31:23 &lt;francois&gt; b00giZm: it is within symfony<br /> 22:31:41 &lt;grEvenX&gt; b00giZm: what's the issues with it? ( I never tried )<br /> 22:31:43 &lt;francois&gt; lsmith: about your question on reusing Doctrine ORM<br /> 22:32:08 &lt;Jarda&gt; b00giZm: I've used propel with sqlite, no problems at all<br /> 22:32:29 &lt;francois&gt; I think we could reuse the XML/YAML/Annotation drivers and metadata classes<br /> 22:32:38 &lt;b00giZm&gt; @Jarda - mysql for dev/prod AND sqlite for testing?<br /> 22:32:42 &lt;b00giZm&gt; tell me about it :)<br /> 22:33:03 &lt;francois&gt; As for persisters, Proxies, and Queries, Propel would have a different approach<br /> 22:33:09 &lt;Jarda&gt; b00giZm: I hate mysql from the bottom of my heart :)<br /> 22:33:14 &lt;annismckenzie&gt; francois: Where do you want to start with the change to the Doctrine DBAL? And when &mdash; and who? Those are a few things you wanted to talk about today.<br /> 22:33:34 &lt;francois&gt; eventually, code generation should lead to SQL code generation, and the speed that comes with it<br /> 22:33:48 &lt;XpLo^bn&gt; we use sqlite with propel 1.3 since 1 year in prod with embeded java program transfering the sqlite file to the php server without any prob (something like 5000 user)<br /> 22:33:54 &lt;grEvenX&gt; well, it for sure would have to be someone allready familiar with the Doctrine stuff I would say :P<br /> 22:34:06 &lt;grEvenX&gt; at least, that's a big +<br /> 22:34:07 &lt;francois&gt; annismckenzie: indeed<br /> 22:34:15 &lt;XpLo^bn&gt; so no problem there<br /> 22:34:34 &lt;lsmith&gt; i agree that with the approach you layed down for Propel2 .. you want to do the SELECT SQL generation yourself<br /> 22:34:38 &lt;francois&gt; but first, does anybody feels not comfortable with the directions I wrote earlier?<br /> 22:34:46 &lt;Jarda&gt; but as I see it, starting to write propel 2.0, would mean development on 1.x should be at least slown down a bit. You can't rewrite and keep up at the same time :)<br /> 22:34:54 &lt;francois&gt; lsmith: indeed. No DQL in Propel<br /> 22:34:58 &lt;lsmith&gt; and Doctrine ORM allows you to use plain SQL and map back to Entities<br /> 22:35:19 &lt;francois&gt; lsmith: That's what we would keep<br /> 22:35:47 &lt;LvanderRee&gt; francois I had the same idea, so very comfortable +++<br /> 22:35:49 &lt;jwage&gt; Have things in Doctrine ORM been properly evaluated?<br /> 22:35:52 &lt;lsmith&gt; but i dont see any reason at first sight .. why the Entities themselves cannot be Doctrine ORM Entities .. simply with code added to them during the code generation<br /> 22:36:06 &lt;jwage&gt; I mean, are you sure that the things you want to do cannot be accomplished using the ORM components?<br /> 22:36:15 &lt;lsmith&gt; which would also allow you to prevent DQL to be triggered for lazy loading properties etc<br /> 22:36:15 &lt;grEvenX&gt; francois: could you pinpoint some of the benefits of using parts of Doctrine 2 (for those not familiar with the framework)<br /> 22:36:23 &lt;tobiassjosten&gt; francois: I still feel it's a shame that all these brilliant people are working in two different projects. But I digress, I have too little experience in Propel.<br /> 22:36:25 &lt;Jarda&gt; so the decision on starting with 2.0 must be something people are commited to. We can't risk on stopping to develop 1.x if nothing happens in 2.0<br /> 22:36:29 &lt;jwage&gt; Because I've been reading through the logs here and all the things francois wants to do is totally capable on top of the ORM components.<br /> 22:36:59 &lt;francois&gt; jwage: It's kind of what we are talking about :)<br /> 22:37:04 &lt;lsmith&gt; jwage: i think its clear that they really dont want to go through the DQL layer .. but i think thats totally supported by the ORM<br /> 22:37:07 &lt;jwage&gt; you're not forced to use DQL so the code completion and such is not an issue<br /> 22:37:40 &lt;jwage&gt; it would be possible to have the Propel Query API generate Raw SQL<br /> 22:37:44 &lt;jwage&gt; and a ResultSetMapping<br /> 22:37:45 &lt;LvanderRee&gt; jwage good point<br /> 22:37:55 &lt;LvanderRee&gt; and you should probably know ;)<br /> 22:37:59 &lt;francois&gt; jwage: that's what we've been saying earlier<br /> 22:38:00 &lt;lsmith&gt; to me Propel would basically enrich Doctrine 2.x models with the code necessary to generate SQL straight<br /> 22:38:02 &lt;jwage&gt; and this can be used to let Doctrine DBAL fetch the data and Doctirne hydrate the data and entities<br /> 22:38:07 &lt;jwage&gt; lsmith: exactly<br /> 22:38:11 &lt;jwage&gt; it is just yet another abstraction<br /> 22:38:23 &lt;jwage&gt; Doctrine ORM is a much lower level abstraction to object persistence than something like active record<br /> 22:38:32 &lt;jwage&gt; so instead of trying to fit both of these levels of abstraction in one library<br /> 22:38:37 &lt;annismckenzie&gt; I smell a new project added to the Doctrine Jira named "PropelExtension".<br /> 22:38:38 &lt;jwage&gt; it should be layers, AR goes on top of this<br /> 22:38:59 &lt;francois&gt; jwage: yep<br /> 22:39:06 &lt;b00giZm&gt; weren't we kinda talking about that all the time? i'm confused...<br /> 22:39:10 &lt;jwage&gt; so Propel can give a very rich and deep UI for development<br /> 22:39:10 &lt;francois&gt; except that sometimes, a layer on top should go under<br /> 22:39:16 &lt;francois&gt; letme explain<br /> 22:39:29 &lt;lsmith&gt; francois: with the code generation i presume you also get around having to use a common base class, which is an annoying side effect of many PHP AR implementations?<br /> 22:39:43 &lt;francois&gt; lsmith: not necessarily<br /> 22:39:53 &lt;francois&gt; actually, the Propel BseClass is quite small<br /> 22:39:55 &lt;jwage&gt; i don't uderstand why it has to be ActiveRecord.<br /> 22:40:00 &lt;jwage&gt; you can give the same rich Query API and everything<br /> 22:40:03 &lt;jwage&gt; without it being ActiveRecord<br /> 22:40:10 &lt;XpLo^bn&gt; one of the reason i didnt use doctrine was the unsupported composite foreign key in 1.x, it seems it s still not supported in 2.x, so i wouldnt really like a propel on top of doctrine ~<br /> 22:40:12 &lt;jwage&gt; you can maintain transparency and still offer the rich UI goodies<br /> 22:40:32 &lt;StephenMelrose&gt; Please don't ditch ACtiveRecord!<br /> 22:40:42 &lt;StephenMelrose&gt; It's the main reason I use Propel<br /> 22:40:43 &lt;lsmith&gt; XpLo^bn: yeah .. its still an open issue .. to be addressed in 2.1 .. but its sure is important!<br /> 22:40:44 &lt;francois&gt; jwage: Propel2 will be an ActiveRecord<br /> 22:40:53 &lt;francois&gt; some people, like me, prefer that<br /> 22:40:57 &lt;jwage&gt; the only difference is where you call methods to persist  an object right?<br /> 22:40:58 &lt;Jarda&gt; jwage: I like my $model-&gt;save(), $model-&gt;delete() etc :)<br /> 22:41:01 &lt;jwage&gt; or what am I missing?<br /> 22:41:12 &lt;jwage&gt; it is a bottle neck too for batch operations<br /> 22:41:18 &lt;Jarda&gt; I hate doing "$manager-&gt;delete($model);"<br /> 22:41:25 &lt;jwage&gt; multiple -&gt;save(), -&gt;save() versus one -&gt;flush() call<br /> 22:41:39 &lt;jwage&gt; one flush is faster for lots of objects than multiple -&gt;save calls<br /> 22:42:12 &lt;francois&gt; ActiveRecord provides sevral features directly to the Entity classes<br /> 22:42:23 &lt;jwage&gt; you have some other methods? like toArray()<br /> 22:42:25 &lt;jwage&gt; and some other stuff?<br /> 22:42:45 &lt;lsmith&gt; jwage: well i do think that Propel probably should stick with AR, but of course underneath it could use the Doctrine EntityManager<br /> 22:42:47 &lt;greg1&gt; Model::save(array($obj1, $obj2 ...))<br /> 22:42:48 &lt;jwage&gt; so the difference is calling the methods on the objects instead of passing the objects to methods on another object<br /> 22:42:50 &lt;francois&gt; like the ability to persist/delete/detach themselves, validation, the ability to be transformed into XML or JSON<br /> 22:42:54 &lt;francois&gt; and most of all<br /> 22:43:01 &lt;francois&gt; ActiveRecord allows for behaviors<br /> 22:43:17 &lt;jwage&gt; hmm its not necessary if you have code generation though<br /> 22:43:19 &lt;grEvenX&gt; +1 for not ditching AR<br /> 22:43:33 &lt;francois&gt; jwage: that's what I was trying to explain<br /> 22:43:39 &lt;francois&gt; but you keep stopping me<br /> 22:43:43 &lt;francois&gt; please<br /> 22:43:57 &lt;francois&gt; What we could do with code generation<br /> 22:43:59 &lt;lsmith&gt; having the call on the model itself simplifies some things .. of course it comes with its own bag of limitations .. especially when one needs to do multiple things inside a transaction<br /> 22:44:06 &lt;francois&gt; is to generate base classes for Entities<br /> 22:44:16 &lt;francois&gt; not extending a single BaseClass<br /> 22:44:26 &lt;lsmith&gt; +1<br /> 22:44:30 &lt;francois&gt; but carrying intelligence<br /> 22:44:31 &lt;jwage&gt; agreed<br /> 22:44:42 &lt;ZaraXVI&gt; uh<br /> 22:44:55 &lt;francois&gt; the BaseEntity could itself extend another class, allowing for real class inheritance<br /> 22:45:17 &lt;ZaraXVI&gt; you're going to go into runtime introspection like doctrine rather than code generation ?<br /> 22:45:20 &lt;francois&gt; the BaseEntity would be regenerated with each storage/model change<br /> 22:45:32 &lt;francois&gt; ZaraXVI: nope, quite the opposite<br /> 22:45:38 &lt;ZaraXVI&gt; ah<br /> 22:45:42 &lt;ZaraXVI&gt; j'ai eu peur<br /> 22:45:43 &lt;francois&gt; Propel has a generation phase, that's what makes it fast<br /> 22:45:48 &lt;ZaraXVI&gt; yea<br /> 22:45:51 &lt;francois&gt; let me explain how I see things<br /> 22:45:57 &lt;ZaraXVI&gt; that's why i choose propel ^^ <br /> 22:46:02 &lt;lsmith&gt; ZaraXVIII: its similar to what traits its doing on the engine level, but copying code into the model class<br /> 22:46:14 &lt;francois&gt; 1 - you create an entity class that extends nothing. A POPO, as they say<br /> 22:46:20 &lt;lsmith&gt; into each model class<br /> 22:46:21 &lt;francois&gt; lsmith: exactly<br /> 22:46:34 &lt;francois&gt; 2 - you add mapping with whatever driver you want<br /> 22:46:48 &lt;francois&gt; 3 you launch AR generation, and it does two things:<br /> 22:47:08 &lt;francois&gt; 3.1 : it generates a BaseEntity for your Entity, extending nothing<br /> 22:47:21 &lt;francois&gt; 3.2 it modifies your entity to make it extend BaseEntity<br /> 22:47:43 &lt;francois&gt; Now you have a usability layer on top of your Entity, but in fact it's underneath<br /> 22:47:57 &lt;francois&gt; It's Doctrine's Proxy classes taken from the other way around<br /> 22:48:06 &lt;francois&gt; Is it clear?<br /> 22:48:16 &lt;grEvenX&gt; sounds good to me<br /> 22:48:21 &lt;b00giZm&gt; sounds smart :)<br /> 22:48:25 &lt;francois&gt; Now take the same idea<br /> 22:48:33 &lt;francois&gt; and apply it to Doctrine Repositories<br /> 22:48:39 &lt;lsmith&gt; so the BaseEntity is something the user will never touch with his own hands<br /> 22:48:42 &lt;francois&gt; and you have PropelQueries<br /> 22:48:57 &lt;francois&gt; lsmith: indeed, the code still goes to the entity class<br /> 22:49:21 &lt;annismckenzie&gt; Hmm, I'm probably a bit slow today so if someone could explain that to me again, I'd be very glad (what francois just said).<br /> 22:49:27 &lt;jwage&gt; francois: would it be possible to have a sort of traits/multiple inheritance feature in the code generation<br /> 22:49:43 &lt;francois&gt; jwage: that's what we already have in Propel 1 with behaviors<br /> 22:49:47 &lt;francois&gt; and sure, that's a must<br /> 22:49:54 &lt;jwage&gt; but i mean literally write another class<br /> 22:49:59 &lt;jwage&gt; and have a syntax to include that class<br /> 22:50:01 &lt;jwage&gt; and it copies the code<br /> 22:50:04 &lt;lsmith&gt; jwage: i suggested that the code generation should probably be made forwards compatible to be partially replaced by traits once they are available<br /> 22:50:13 &lt;jwage&gt; is that what you mean?<br /> 22:50:16 &lt;francois&gt; jwage: not sure I understand<br /> 22:50:39 &lt;francois&gt; annismckenzie: it's just like Propel 1, except that instead of starting with a schema, you start with the stub classes<br /> 22:50:52 &lt;jwage&gt; imagine in your mapping for a propel entity you could say i want to import the code from another class that is mapped as a trait<br /> 22:51:03 &lt;francois&gt; annismckenzie: in the end, you still manipulate ActiveRecord and ActiveQuery instances the same way<br /> 22:51:19 &lt;jwage&gt; during the code generation phase it would literally open the class and copy the contents of the class in to the generated base entity for that model<br /> 22:51:20 &lt;francois&gt; annismckenzie: we're just discussing the implementation details<br /> 22:51:34 &lt;jwage&gt; so it would be exactly like what traits are just done at code generation time<br /> 22:51:36 &lt;Yrwein&gt; francois__ Would be possible then do add (through configuration) class that will be extended by generated class (generated class will have "extends MyBaseEntityClass")? If I understand that well... -&gt; F. e. for adding features common to all entities.<br /> 22:51:42 &lt;weaverryan&gt; you all started a bit early didn't you ;)<br /> 22:51:45 &lt;francois&gt; jwage: Behaviors already do that, but they do a lot more<br /> 22:51:53 &lt;annismckenzie&gt; weaverryan: You're late! :)<br /> 22:52:04 &lt;francois&gt; jwage: like generating directly the right method names, to avoid relying on magic methods<br /> 22:52:29 &lt;lsmith&gt; Yrwein: i think what francois is explaining here a way to be able to add any functionality you want into a class without having to use a common base class<br /> 22:52:33 &lt;annismckenzie&gt; Thanks francois, I think I got it now. :)<br /> 22:52:34 &lt;lsmith&gt; since the code is copied<br /> 22:52:49 &lt;lsmith&gt; but of course you are free to still force a common base class<br /> 22:52:53 &lt;francois&gt; Yrwein: it would be possible, yes, but lsmith wouldn't be happy ;)<br /> 22:53:39 &lt;grEvenX&gt; jwage: sounds smart<br /> 22:53:42 &lt;francois&gt; One small detail: I think the discussion focuses too much on the AR classes, while Propel's most distinctive features come from the Query API<br /> 22:54:12 &lt;lsmith&gt; francois: by using the EntityManager underneath you could use Doctrine ORM for all writes<br /> 22:54:23 &lt;Yrwein&gt; lsmith, fancois__: Ok then. .)<br /> 22:54:27 &lt;francois&gt; And using the same code generation principles, we can make Doctrine Repository classes extend a BaseRepository class, with all the smart filetrs and so on<br /> 22:54:42 &lt;francois&gt; lsmith: yes, I agree<br /> 22:54:51 &lt;lsmith&gt; which would be kind of cool .. because then i could easily switch to using the Doctrine ORM API in case i need to do something complex in terms of transactions<br /> 22:55:01 &lt;francois&gt; lsmith: indeed<br /> 22:55:16 &lt;lsmith&gt; ok sounds awesome to me! :)<br /> 22:55:18 &lt;LvanderRee&gt; weaverryan, you missed the new feature for 1.6: migrations, but the real discussion is about the future of prope, (propel 2.0) the idea is to use Doctrine 2.0 but add generators on top of it to allow fast development (IDE completion), and fast runtime <br /> 22:55:34 &lt;LvanderRee&gt; weaverryan: details are currently being discussed, with jwage<br /> 22:55:34 &lt;weaverryan&gt; great, thanks LvanderRee :)<br /> 22:55:52 &lt;jwage&gt; francois lsmith: <a href="http://pastebin.com/wWFpUSDP">http://pastebin.com/wWFpUSDP</a><br /> 22:55:59 &lt;jwage&gt; to make sure we're saying the same thing this is what I am thinking<br /> 22:56:01 &lt;jwage&gt; pseudo code<br /> 22:56:07 &lt;Jarda&gt; francois: but I'm actually against defining schemas via stub classes.. I like my xml configuration..<br /> 22:56:20 &lt;lsmith&gt; i like DQL, but i think this is sounding like it really brings what makes Propel 1.x unique into a system that makes it easy for users to mix and match Propel/Doctrine code<br /> 22:56:24 &lt;weaverryan&gt; if propel were built on top of Doctrine ORM, wouldn't that mean that bundles could be made to work with Doctrine or Propel just by being sure to only rely on the lower-level Doctrine ORM functionality?<br /> 22:56:29 &lt;jwage&gt; Jarda: using Doctrine you would be able to do it either way<br /> 22:56:37 &lt;Jarda&gt; jwage: ok, great<br /> 22:56:42 &lt;jwage&gt; weaverryan: that is correct<br /> 22:57:18 &lt;jwage&gt; so you can map some entities, and say this entity uses this other mapped trait<br /> 22:57:24 &lt;jwage&gt; and during code generation it copies the code<br /> 22:57:28 &lt;jwage&gt; is that what propel behaviors does currently?<br /> 22:57:31 &lt;weaverryan&gt; woh<br /> 22:57:59 &lt;lsmith&gt; francois: i guess going by the code generation to enable IDE mantra .. are you considering annotations?<br /> 22:58:07 &lt;lsmith&gt; or do you prefer explict API calls<br /> 22:58:19 &lt;jwage&gt; of course just like traits or multiple inheritance you can have conflicts but that is normal<br /> 22:58:28 &lt;francois&gt; jwage: see my version <a href="http://pastebin.com/eQ0XaBSV">http://pastebin.com/eQ0XaBSV</a><br /> 22:58:51 &lt;annismckenzie&gt; Ah, weaverryan, one thing you really did miss: Propel 2.0 will try to be BC with Propel 1.x!<br /> 22:58:54 &lt;jwage&gt; what does the BaseA provide?<br /> 22:59:14 &lt;jwage&gt; the AR implementation?<br /> 22:59:21 &lt;francois&gt; jwage: yep<br /> 22:59:27 &lt;francois&gt; a lot of code not in the example<br /> 22:59:36 &lt;jwage&gt; ya<br /> 22:59:37 &lt;weaverryan&gt; annismckenzie: oh wow - that's definitely important<br /> 22:59:49 &lt;ZaraXVI&gt; i don't get what all those ideas will bring<br /> 22:59:52 &lt;francois&gt; lsmith: I don't understand<br /> 23:00:00 &lt;jwage&gt; i cant wait until we have traits<br /> 23:00:03 &lt;jwage&gt; and this wont be an issue anymore<br /> 23:00:09 &lt;jwage&gt; hehe<br /> 23:00:09 &lt;francois&gt; jwage: and same for the ARepository class<br /> 23:00:34 &lt;francois&gt; jwage: traits won't solve all the problems Propel behaviors solves<br /> 23:00:41 &lt;lsmith&gt; francois: so you are planning to adopt annotatins for propel 2.0?<br /> 23:00:54 &lt;lsmith&gt; francois: hmm your code looks a lot like <a href="http://wiki.php.net/rfc/horizontalreuse#grafts_-_class_composition_not_implemented">http://wiki.php.net/rfc/horizontalreuse#grafts_-_class_composition_not_implem...</a><br /> 23:01:01 &lt;francois&gt; lsmith: I think the user can define the mapping the way she wants<br /> 23:01:13 &lt;francois&gt; whether using annotations, or any other supported format<br /> 23:01:23 &lt;lsmith&gt; which is the alternate approach discussed for horizontal reuse .. in the end php.net went with traits .. which is more like what jwage's pseudo code is<br /> 23:01:25 &lt;annismckenzie&gt; lsmith: It doesn't matter with all the mapping converters available for Doctrine 2.<br /> 23:01:46 &lt;jwage&gt; ya you can specify mapping in anything<br /> 23:01:50 &lt;francois&gt; lsmith: grafts provide more features that traits, yes<br /> 23:01:56 &lt;jwage&gt; so you can looad the mapping whether it is via xml, yaml or annotations<br /> 23:02:01 &lt;jwage&gt; and use the mapping info to do the code generation<br /> 23:02:46 &lt;lsmith&gt; i obviously agree that you cannot wait for trunk to be released, but i am not sure it makes sense going a different route ..<br /> 23:02:54 &lt;francois&gt; ok, seems that we agree on the main principles. It's maybe not the time to decide the final implementation, though :)<br /> 23:03:12 &lt;lsmith&gt; yeah<br /> 23:03:25 &lt;francois&gt; lsmith: look at Propel behaviors and tell me if you can do the same things with traits<br /> 23:03:43 &lt;francois&gt; I'm sure you'd end up with a lot of __call() and runtime overhead<br /> 23:03:53 &lt;ZaraXVI&gt; much more down to earth, is their a graphical editor that can generate xml or yml schemas for propel ?<br /> 23:03:59 &lt;francois&gt; And no IDE completion<br /> 23:04:08 &lt;arlo&gt; correct me if i'm wrong, we can have the domain model pattern of Doctrine, with some of the characteristics of an Active Record implementation (persistance directly available in the object), and with a fluid query interface on both objects and repository ?<br /> 23:04:09 &lt;francois&gt; ZaraXVI: yes<br /> 23:04:19 &lt;ZaraXVI&gt; francois: which one ?<br /> 23:04:42 &lt;francois&gt; ZaraXVI: <a href="http://www.orm-designer.com">http://www.orm-designer.com</a><br /> 23:05:12 &lt;francois&gt; arlo: what do you mean fluid query interface on object?<br /> 23:05:20 &lt;ZaraXVI&gt; uhuh<br /> 23:05:23 &lt;ZaraXVI&gt; "buy now"<br /> 23:05:30 &lt;annismckenzie&gt; :)<br /> 23:05:42 &lt;arlo&gt; (Active)Query : right,  it's not really on object<br /> 23:05:46 &lt;v-dogg&gt; (not everything can be free)<br /> 23:05:56 &lt;lsmith&gt; francois: well i am sure once traits are released they will get IDE support<br /> 23:05:58 &lt;francois&gt; arlo: that's the principles, yes<br /> 23:06:10 &lt;lsmith&gt; but yes traits as they are in trunk are essentially just engine level cut&amp;paste<br /> 23:06:13 &lt;lsmith&gt; and they are stateless<br /> 23:06:16 &lt;lsmith&gt; <a href="http://wiki.php.net/rfc/horizontalreuse#traits_vs">http://wiki.php.net/rfc/horizontalreuse#traits_vs</a>._grafts<br /> 23:06:25 &lt;francois&gt; lsmith: which is their limit<br /> 23:06:28 &lt;ZaraXVI&gt; well, i'd like a free one :)<br /> 23:06:28 &lt;LvanderRee&gt; I think I want to see/implement some things based on the ideas we agree on and then look further about how to specifically solve things. But for now the idea seems to be to extend not only the Doctrine2 Dbal, but also the ORM and add a Propel layer on top of that, isn' t it<br /> 23:06:43 &lt;francois&gt; LvanderRee: yes<br /> 23:06:43 &lt;LvanderRee&gt; so use Doctrine2 with its entities, and entity manager<br /> 23:06:46 &lt;lsmith&gt; so sure in a lot of cases a trait method will have to make an instance of something to be able to implement what you need<br /> 23:07:12 &lt;francois&gt; lsmith: let's discuss this some other time<br /> 23:07:27 &lt;lsmith&gt; francois: yeah .. btw the guy who wrote the RFC is nice and approachable<br /> 23:07:31 &lt;lsmith&gt; but tends to be busy at times<br /> 23:07:43 &lt;Jarda&gt; hey, it's getting very late<br /> 23:07:43 &lt;lsmith&gt; but i would recommend also asking him for advice<br /> 23:07:53 &lt;Jarda&gt; we are in too much detail talk atm<br /> 23:08:15 &lt;lftl&gt; ZaraXVI: there are a couple of option in the free department that just use XSL to transform XML output from other GUI DB design programs<br /> 23:08:25 &lt;francois&gt; So now that we (kinda) agree on the face of Propel2, there are more questions arising<br /> 23:08:26 &lt;francois&gt; Who is interesting in contribiuting?<br /> 23:08:33 &lt;Jarda&gt; couldn't we maybe start talking whether we start doing propel 2.0 and who will commit to developing it?<br /> 23:08:48 &lt;francois&gt; Jarda: :)<br /> 23:09:03 &lt;francois&gt; Who wants to contribute?<br /> 23:09:17 &lt;Phenix&gt; francois: me<br /> 23:09:25 &lt;b00giZm&gt; i smell something big ;) i guess i'll give it a try, francois :)<br /> 23:09:46 &lt;ZaraXVI&gt; hmmm<br /> 23:09:58 &lt;LvanderRee&gt; francois I am as long as I am still developping in php ... ;)<br /> 23:10:03 &lt;Jarda&gt; as I said earlier (it might have drowned in the noise) we can't do heave development in two completely different branches if we don't want to loose features in 2.0<br /> 23:10:06 &lt;grEvenX&gt; I still haven't got this, can somebody please explain the main benefits from me as a Propel user to use Propel 2 ? And the benefits of using Doctrine 2 in this, is it for the Propel devs or for the user (or both)<br /> 23:10:18 &lt;Phenix&gt; I am interested in propel<br /> 23:10:29 &lt;Jarda&gt; *heavy<br /> 23:10:42 &lt;annismckenzie&gt; Please francois, get Propel2 on<br /> 23:10:43 &lt;grEvenX&gt; I can contribute, and get specific task, but I will not be able to take on managing this project<br /> 23:10:52 &lt;francois&gt; grEvenX: access to all PHP5.3 features<br /> 23:11:05 &lt;francois&gt; grEvenX: ability to use Doctrine bundles/projects<br /> 23:11:16 &lt;LvanderRee&gt; francois I have some time tomorrow already, I can see what I can do then, but I am thinking about switching to Python as my main development language....<br /> 23:11:16 &lt;francois&gt; grEvenX: Even more speed<br /> 23:11:22 &lt;grEvenX&gt; (that we like)<br /> 23:11:30 &lt;francois&gt; LvanderRee: great language, bad idea<br /> 23:11:58 &lt;annismckenzie&gt; Damn. Again. francois, could you put development of Propel2 onto GitHub? That would make contributing easier for all of us.<br /> 23:12:10 &lt;grEvenX&gt; francois: thanks for making those things clear :)<br /> 23:12:11 &lt;francois&gt; annismckenzie: definitely<br /> 23:12:17 &lt;weaverryan&gt; excellent :)<br /> 23:12:21 &lt;b00giZm&gt; great :)<br /> 23:12:37 &lt;lsmith&gt; francois: i have my hands in all sorts of other stuff already .. but you can always ask me in case there are questions about RDBMS differences and other nitty gritty SQL details<br /> 23:12:52 &lt;francois&gt; lsmith: great, thanks<br /> 23:12:56 &lt;grEvenX&gt; I guess I'd have to read francois tip on that git "tutorial" then<br /> 23:12:57 &lt;grEvenX&gt; :P<br /> 23:13:09 &lt;annismckenzie&gt; :D<br /> 23:13:23 &lt;lsmith&gt; <a href="http://progit.org/book/">http://progit.org/book/</a> !<br /> 23:13:28 &lt;francois&gt; oh, one last thing<br /> 23:13:33 &lt;b00giZm&gt; you'll like it <br /> 23:13:51 &lt;lsmith&gt; b00giZm: he is really the steve jobs of propel :p<br /> 23:13:51 &lt;francois&gt; What name shall we give to Propel2?<br /> 23:14:05 &lt;b00giZm&gt; Proptrine :D<br /> 23:14:05 &lt;b00giZm&gt; just kiddin<br /> 23:14:08 &lt;annismckenzie&gt; Definitely! If you take a look at how contributions are handled in Symfony2 you'll notice how much more open development becomes with git.<br /> 23:14:41 &lt;Jarda&gt; francois: are you going to take the initiative with Propel2? Or should there be a vote of some kind of the lead?<br /> 23:14:47 &lt;annismckenzie&gt; Doctrel? :D<br /> 23:15:05 &lt;francois&gt; Jarda: If someone feels strong enough to take the mead, I'd be delighted<br /> 23:15:09 &lt;francois&gt; s/mead/lead<br /> 23:15:25 &lt;francois&gt; I already have too much work with Propel 1<br /> 23:15:29 &lt;Jarda&gt; (I can't think of anyone else leading the development, but well.. I'm happy with 1.x and don't feel the need of P2)<br /> 23:15:41 &lt;ZaraXVI&gt; git *blurp*<br /> 23:15:56 &lt;francois&gt; Anyone here wants to lead Propel2?<br /> 23:16:18 &lt;grEvenX&gt; people will have to step up for them selves if they think they can take the lean on Propel 2 (because no-one here know who you are and can "promote" you anyway)<br /> 23:16:18 &lt;grEvenX&gt; :P<br /> 23:16:32 &lt;annismckenzie&gt; Uh oh, silence.<br /> 23:16:36 &lt;Jarda&gt; +1 for changing to git also for 1.x branch, but I'd like to have an up-to-date svn mirror also for externals (the svn:externals from github doesn't work well..)<br /> 23:17:12 &lt;francois&gt; Jarda: We'll update the git mirror, but I think Propel 1.x will keep SVN<br /> 23:17:36 &lt;ZaraXVI&gt; what's with git<br /> 23:17:47 &lt;annismckenzie&gt; Jarda: it works pretty well but you're right in that there can only be a master branch accessible through svn.<br /> 23:17:48 &lt;francois&gt; ok, so I'll boostrap Propel2 in my github account<br /> 23:17:50 &lt;grEvenX&gt; Jar da: I think that is very nice too, but I hope someone has experience with doing svn mirroring from other project... #freeswitch just changed to GIT and they had to spend a _lot_ of time to get it right<br /> 23:17:52 &lt;ZaraXVI&gt; switching to git sounds like masturbation to me<br /> 23:18:01 &lt;LvanderRee&gt; I don't know if I am capable, if I have enough time, and if I will be using Php for a long time anymore... But I very much do like the idea. Collaboration and ease of use for all (plugin)developers <br /> 23:18:08 &lt;lsmith&gt; francois: you can create an organization on github these days<br /> 23:18:27 &lt;francois&gt; lsmith: whoa, an organization!<br /> 23:18:33 &lt;jwage&gt; francois I want to help with the development for sure<br /> 23:18:35 &lt;francois&gt; is there name squatting on Propel ?<br /> 23:18:40 &lt;jwage&gt; francois: why can you not lead it?<br /> 23:19:02 &lt;francois&gt; jwage: well, it seems I have no choice<br /> 23:19:08 &lt;francois&gt; jwage: noone else will<br /> 23:19:13 &lt;lsmith&gt; choice if overrated :)<br /> 23:19:18 &lt;lsmith&gt; is<br /> 23:19:24 &lt;francois&gt; lsmith: good one<br /> 23:19:25 &lt;jwage&gt; you should want to :)<br /> 23:19:31 &lt;Hope-Work&gt; When I try to load a new propel object via TablePeer::fromArray($dataFromCustomSQLQuery), it adds every query to the [modifiedColumns:protected] array, increasing the size of the results *dramatically*.  How do i keep this from happening?<br /> 23:19:46 &lt;francois&gt; ah! Hope-Work !<br /> 23:19:50 &lt;francois&gt; welcome<br /> 23:19:58 &lt;francois&gt; We were all expecting you<br /> 23:20:03 &lt;Hope-Work&gt; francois, huh?<br /> 23:20:11 &lt;grEvenX&gt; lol<br /> 23:20:12 &lt;francois&gt; could you all welcome Hope-Work please?<br /> 23:20:13 &lt;IvoAz&gt; :D<br /> 23:20:18 &lt;Hope-Work&gt; is francois a bot?<br /> 23:20:21 &lt;IvoAz&gt; welcome, Hope-Work!<br /> 23:20:22 &lt;grEvenX&gt; hi H<br /> 23:20:22 &lt;grEvenX&gt; Hi Hope-Work<br /> 23:20:23 &lt;dvj&gt; wb Hope-Work! missed you!<br /> 23:20:25 &lt;grEvenX&gt; ;)<br /> 23:20:35 &lt;Hope-Work&gt; !seen Hope-Work<br /> 23:20:54 &lt;Yrwein&gt; Welcome Hope-Work. .))<br /> 23:20:58 &lt;lsmith&gt; Hope-Work: you just asked the lead developer of Propel if he is a bot :P<br /> 23:21:04 &lt;IvoAz&gt; what is the new feature we hear on the twitter? ;)<br /> 23:21:08 &lt;Hope-Work&gt; bah i'm sorry<br /> 23:21:12 &lt;b00giZm&gt; :D<br /> 23:21:20 &lt;Hope-Work&gt; i'm not used to being welcomed so cordially by humans<br /> 23:21:21 &lt;annismckenzie&gt; I guess that was an inside joke. ;-)<br /> 23:21:39 &lt;LvanderRee&gt; haha great!<br /> 23:21:48 &lt;grEvenX&gt; I'd feel very happy with francois taking the lead, he has shown great comitment to the Propel project and great skills<br /> 23:21:53 &lt;francois&gt; Hope-Work: sorry, it's just funny 'coz we've been taling for an hour about the future of Propel, and you come here and ask a question about the past of Propel<br /> 23:22:05 &lt;LvanderRee&gt; a real user ;)<br /> 23:22:17 &lt;francois&gt; LvanderRee: inded<br /> 23:22:22 &lt;b00giZm&gt; how many people are on the core team of propel 1.x? is it just you, francois?<br /> 23:22:41 &lt;francois&gt; Hope-Work: try $obj-&gt;clearModifiedColumns()<br /> 23:22:44 &lt;grEvenX&gt; who is KrAken?<br /> 23:22:49 &lt;LvanderRee&gt; what is core <br /> 23:22:52 &lt;LvanderRee&gt; KRavEN<br /> 23:22:58 &lt;Hope-Work&gt; francois, i am glad it is the past.  My company is stuck forever w/ a horribly ancient v of propel i can find no documentation on.<br /> 23:23:01 &lt;francois&gt; b00giZm: There is no core team per se<br /> 23:23:03 &lt;grEvenX&gt; KRaVEN even<br /> 23:23:09 &lt;LvanderRee&gt; KRavEN is an american, helping out especially with MSsql<br /> 23:23:38 &lt;grEvenX&gt; i've seen there has been some commits from him<br /> 23:23:39 &lt;Hope-Work&gt; francois, from one PHP pro to another, I would love an ORM that actually implemented ArrayAccess.<br /> 23:23:48 &lt;Hope-Work&gt; i use that in my own simplistic ORM<br /> 23:23:51 &lt;francois&gt; there are five people with commit access if that's what you want to know<br /> 23:23:58 &lt;lsmith&gt; ok ... i was already dead 30min before the meeting .. time to go into coma for me<br /> 23:24:06 &lt;francois&gt; Hope-Work: Use Doctrine1<br /> 23:24:33 &lt;lsmith&gt; good night all!<br /> 23:24:34 &lt;francois&gt; lsmith: thanks for your time<br /> 23:24:37 &lt;LvanderRee&gt; byebye<br /> 23:24:41 &lt;grEvenX&gt; lsmith: thanks for the your povs, good night :)<br /> 23:24:44 &lt;Phenix&gt; lsmith: bye<br /> 23:24:48 &lt;Jarda&gt; ok, well, I'm off to bed. I can send the log to you francois tomorrow<br /> 23:24:55 &lt;Hope-Work&gt; Call to undefined method Hierarchy::clearModifiedColumns() <br /> 23:25:00 &lt;Hope-Work&gt; sigh<br /> 23:25:01 &lt;francois&gt; Are there any more subjects we need to discuss tonight?<br /> 23:25:01 &lt;b00giZm&gt; so there's someone who could take the lead in the propel 1.x branch if you take the lead in 2.x<br /> 23:25:11 &lt;IvoAz&gt; the new feature?<br /> 23:25:18 &lt;IvoAz&gt; :)<br /> 23:25:20 &lt;Jarda&gt; IvoAz: migrations<br /> 23:25:24 &lt;annismckenzie&gt; Migrations!<br /> 23:25:26 &lt;Jarda&gt; IvoAz: follow the tickets!<br /> 23:25:37 &lt;grEvenX&gt; :P<br /> 23:25:41 &lt;francois&gt; Hope-Work: sorry, try resetModified()<br /> 23:25:51 &lt;LvanderRee&gt; francois when will you create the base for Propel2 on github?<br /> 23:25:56 &lt;francois&gt; b00giZm: not really<br /> 23:26:05 &lt;francois&gt; LvanderRee: not tonight<br /> 23:26:17 &lt;LvanderRee&gt; :D need some sleep as well ;)<br /> 23:26:33 &lt;XpLo^bn&gt; will propel 1.x stop providing new feature when 2.x start ?<br /> 23:26:51 &lt;Hope-Work&gt; francois, thank you, sir, for your help and time and the project.<br /> 23:26:56 &lt;annismckenzie&gt; Will 1.6 be the last?<br /> 23:27:01 &lt;francois&gt; XpLo^bn: My company (and others) use Propel 1.X and will keep on using it for a long time<br /> 23:27:15 &lt;francois&gt; XpLo^bn: that's a good insurnce that the 1.x branch will live<br /> 23:27:18 &lt;LvanderRee&gt; As said, I have some time tomorrow, but will not start before a base has been created on git<br /> 23:27:25 &lt;annismckenzie&gt; In Propel 1.x I mean.<br /> 23:27:34 &lt;francois&gt; although I can't guarantee the same pace in improvements/bugfixes<br /> 23:27:49 &lt;IvoAz&gt; migrations is great one, GJ :)<br /> 23:27:51 &lt;francois&gt; If any of you wants to give a hand or take the lead on Propel 1.x, tell me<br /> 23:28:01 &lt;francois&gt; annismckenzie: I guess so<br /> 23:28:12 &lt;XpLo^bn&gt; of course that would be crazy to keep the same pace with 2 branch:)<br /> 23:28:39 &lt;LvanderRee&gt; francois Ow and one other question, have got some time to take a look at the complex-join branch? It is compatible, but do you like it? can it be merged in 1.6<br /> 23:28:54 &lt;francois&gt; LvanderRee: I need to dedicate a few hours to it<br /> 23:29:05 &lt;francois&gt; I like it, but I still have to validate a few stuff<br /> 23:29:15 &lt;francois&gt; Propel 1.6 definitely needs this<br /> 23:29:19 &lt;francois&gt; so don't be afraid<br /> 23:29:35 &lt;francois&gt; (I've been kind of occupied with the migrations stuff lately)<br /> 23:29:46 &lt;LvanderRee&gt; francois no problem, thing is that I don' t like it to be for nothing, and me requiring to keep on patching propel for my work to be able to perform complex joins <br /> 23:30:03 &lt;annismckenzie&gt; Complex-join branch &mdash; care to explain a little bit, LvanderRee?<br /> 23:30:54 &lt;b00giZm&gt; having joins with ... JOIN t ON t.foo_id = f.id AND ... ?<br /> 23:30:54 &lt;francois&gt; Ok guys, time to finish the "Future of Propel2 meeting"<br /> 23:30:58 &lt;b00giZm&gt; ok<br /> 23:31:07 &lt;annismckenzie&gt; sounds good<br /> 23:31:09 &lt;francois&gt; It was nice talking to you all<br /> 23:31:25 &lt;francois&gt; don't hesitate to continue the discussion on the Propel-devs mailing-list<br /> 23:31:39 &lt;annismckenzie&gt; Thanks for the awesome work done in Propel 1.4 and up!<br /> 23:31:44 &lt;francois&gt; and watch my github acount for the Propel2 bootstrap<br /> 23:31:56 &lt;LvanderRee&gt; annismckenzie I am one of those who has commit rights, and created a branch to solve some issues, see ticket: <a href="http://www.propelorm.org/ticket/878">http://www.propelorm.org/ticket/878</a><br /> 23:32:09 &lt;francois&gt; <a href="http://github.com/fzaninotto">http://github.com/fzaninotto</a><br /> 23:32:13 &lt;Phenix&gt; francois: thank for this meeting<br /> 23:32:28 &lt;weaverryan&gt; very good to listen in guys - I look forward to seeing things get rolling - lot's of excellent ideas<br /> 23:32:33 &lt;weaverryan&gt; I feel smarter now :)<br /> 23:32:39 &lt;annismckenzie&gt; b00giZm: That already works with addMultipleJoin() (actually had to use it today)<br /> 23:33:09 &lt;francois&gt; annismckenzie: addMultipleJoin() is flawed<br /> 23:33:20 &lt;francois&gt; it has an SQL injection vulnerability<br /> 23:33:45 &lt;XpLo^bn&gt; definitly awesome work on propel francois , you re so good that no one dare take the lead :D<br /> 23:33:54 &lt;francois&gt; annismckenzie: that's what LvanderRee's branch is for<br /> 23:34:18 &lt;francois&gt; XpLo^bn: I'm really not attached to it. Do you want it?<br /> 23:34:26 &lt;b00giZm&gt; yeah i know, i wrote a blog posting about it... i would post the link but unfortunately, posterous screwed up their markdown-support and my blog looks like crap ;)<br /> 23:34:27 &lt;XpLo^bn&gt; lol no way haha<br /> 23:35:03 &lt;XpLo^bn&gt; i couldnt follow any of your talk about doctrine &lt;=&gt; propel, i dont understand anything in doctrine blog ~<br /> 23:35:06 &lt;Yrwein&gt; Thanks for this meeting too and Francois and others for developing propel.  See ya later. <br /> 23:35:37 &lt;francois&gt; XpLo^bn: from an end user's point of view, Propel2 won't change much<br /> 23:35:46 &lt;francois&gt; The difference will be on the inside<br /> 23:35:56 &lt;XpLo^bn&gt; i ll keep helping ppl on forum/maling list, that s all i can do<br /> 23:36:10 &lt;francois&gt; XpLo^bn: please continue :)<br /> 23:36:32 &lt;francois&gt; ok, I'm off<br /> 23:36:42 &lt;francois&gt; good night/day everybody!<br /> 23:36:48 &lt;b00giZm&gt; see you ;) good night!<br /> 23:36:54 &lt;XpLo^bn&gt; night ~<br /> 23:36:58 &lt;grEvenX&gt; nice talking to you all<br /> 23:36:58 &lt;Phenix&gt; francois: bye<br /> 23:37:02 &lt;arlo&gt; bye<br /> 23:37:03 &lt;LvanderRee&gt; good night<br /> 23:37:05 &lt;grEvenX&gt; need to hed to bed here as well<br /> 23:37:20 &lt;LvanderRee&gt; I will be off too guys, see you online next time ;)<br /> 23:37:44 &lt;grEvenX&gt; and remember, #propel is open 24/7<br /> 23:37:45 &lt;grEvenX&gt; ;)<br /> 23:38:29 &lt;b00giZm&gt; bye ;) nice talking.</p>
